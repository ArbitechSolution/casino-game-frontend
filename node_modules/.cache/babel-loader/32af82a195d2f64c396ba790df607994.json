{"ast":null,"code":"import _toConsumableArray from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/src/App/Components/User/Wallet/DepositArchive.js\";\nimport React, { Component } from \"react\";\nimport storage from \"../../../../Storage\";\nimport socket from \"../../../../Socket\";\nimport { __, decode, encode, forceSatoshiFormat, fixDate } from \"../../../../Helper\";\nimport C from \"../../../../Constant\";\nvar C_ = React.createElement;\n\nvar DepositArchive = /*#__PURE__*/function (_React$Component) {\n  _inherits(DepositArchive, _React$Component);\n\n  var _super = _createSuper(DepositArchive);\n\n  function DepositArchive(props) {\n    var _this;\n\n    _classCallCheck(this, DepositArchive);\n\n    _this = _super.call(this, props);\n    _this._isMounted = false;\n    _this.state = {\n      token: storage.getKey('token'),\n      loading: true,\n      deposits: []\n    };\n    return _this;\n  }\n\n  _createClass(DepositArchive, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true;\n      socket.emit(C.WALLET_HISTORY, encode({\n        token: this.state.token\n      }));\n      socket.on(C.WALLET_HISTORY, function (data) {\n        return _this2.makeHistory(decode(data));\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"makeHistory\",\n    value: function makeHistory(data) {\n      var _this3 = this;\n\n      if (this._isMounted) {\n        var array = data.deposit;\n        this.setState({\n          loading: false\n        });\n\n        if (array) {\n          array.forEach(function (deposit, i) {\n            var block = /*#__PURE__*/React.createElement(DepositTable, {\n              data: deposit,\n              key: i,\n              __self: _this3,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 33\n              }\n            });\n\n            _this3.setState(function (state) {\n              return {\n                deposits: [block].concat(_toConsumableArray(state.deposits))\n              };\n            });\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var loading = this.state.loading;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, loading ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"spinner-border text-info my-3\",\n        role: \"status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 28\n        }\n      })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table-responsive mt-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table table-hover deposit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 37\n        }\n      }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 37\n        }\n      }, \"Amount\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 37\n        }\n      }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 37\n        }\n      }, \"Transaction\"))), this.state.deposits.length > 0 && this.state.deposits), this.state.deposits.length === 0 && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert bg-soft-dark mt-2 w-100 font-13 text-center text-upper text-yellow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }\n      }, \"[ Your deposit list is empty ]\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.props.clicked,\n        className: \"btn bg-cs2 btn-sm text-center font-13 cpt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: 'mdi mdi-arrow-left-bold-circle',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 37\n        }\n      }), \" Back\")))));\n    }\n  }]);\n\n  return DepositArchive;\n}(React.Component);\n\nfunction DepositTable(props) {\n  var _props$data = props.data,\n      amount = _props$data.amount,\n      status = _props$data.status,\n      date = _props$data.date,\n      txtid = _props$data.txtid,\n      coin = _props$data.coin;\n  return /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, fixDate(date)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, forceSatoshiFormat(amount) + ' ' + __.upperCase(coin)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, status), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    readOnly: true,\n    value: txtid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  })));\n}\n\nexport default DepositArchive;","map":{"version":3,"names":["React","Component","storage","socket","__","decode","encode","forceSatoshiFormat","fixDate","C","C_","createElement","DepositArchive","props","_isMounted","state","token","getKey","loading","deposits","emit","WALLET_HISTORY","on","data","makeHistory","array","deposit","setState","forEach","i","block","length","clicked","DepositTable","amount","status","date","txtid","coin","upperCase"],"sources":["/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/src/App/Components/User/Wallet/DepositArchive.js"],"sourcesContent":["import React, {Component} from \"react\";\r\nimport storage from \"../../../../Storage\";\r\nimport socket from \"../../../../Socket\";\r\nimport {__, decode, encode, forceSatoshiFormat, fixDate} from \"../../../../Helper\";\r\nimport C from \"../../../../Constant\";\r\n\r\nconst C_ = React.createElement;\r\n\r\nclass DepositArchive extends React.Component {\r\n    _isMounted = false;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            token: storage.getKey('token'),\r\n            loading: true,\r\n            deposits: []\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        this._isMounted = true;\r\n        socket.emit(C.WALLET_HISTORY, encode({ token: this.state.token}));\r\n        socket.on(C.WALLET_HISTORY, data => this.makeHistory(decode(data)));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    makeHistory(data){\r\n        if(this._isMounted)\r\n        {\r\n            let array = data.deposit;\r\n            this.setState({ loading: false });\r\n            if(array) {\r\n                array.forEach((deposit, i) => {\r\n                    let block = <DepositTable data={deposit} key={i}/>;\r\n                    this.setState(state => ({deposits: [block, ...state.deposits]}));\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { loading } = this.state;\r\n        return(\r\n            <>\r\n                {loading ?\r\n                    <div className=\"text-center\">\r\n                           <div class=\"spinner-border text-info my-3\" role=\"status\" />\r\n                    </div>\r\n                :\r\n                    <>\r\n                        <div className=\"table-responsive mt-2\">\r\n                            <table className=\"table table-hover deposit\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th scope=\"col\">Date</th>\r\n                                    <th scope=\"col\">Amount</th>\r\n                                    <th scope=\"col\">Status</th>\r\n                                    <th scope=\"col\">Transaction</th>\r\n                                </tr>\r\n                                </thead>\r\n                                {this.state.deposits.length > 0 &&\r\n                                    this.state.deposits\r\n                                }\r\n                            </table>\r\n                            {this.state.deposits.length === 0 &&\r\n                            <div className=\"alert bg-soft-dark mt-2 w-100 font-13 text-center text-upper text-yellow\">\r\n                                [ Your deposit list is empty ]\r\n                            </div>\r\n                            }\r\n                            <div className=\"text-center\">\r\n                                <button onClick={this.props.clicked} className=\"btn bg-cs2 btn-sm text-center font-13 cpt\">\r\n                                    <i className={'mdi mdi-arrow-left-bold-circle'} /> Back\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                }\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction DepositTable(props){\r\n    const { amount, status, date, txtid, coin } = props.data;\r\n    return(\r\n            <tr>\r\n                <td>{fixDate(date)}</td>\r\n                <td>{forceSatoshiFormat(amount) + ' ' + __.upperCase(coin)}</td>\r\n                <td>{status}</td>\r\n                <td>\r\n                    <input className=\"form-control\" readOnly={true} value={txtid} />\r\n                </td>\r\n            </tr>\r\n    );\r\n}\r\n\r\nexport default DepositArchive;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
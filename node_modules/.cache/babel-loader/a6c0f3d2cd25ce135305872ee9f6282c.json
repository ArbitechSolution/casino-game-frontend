{"ast":null,"code":"import _classCallCheck from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/src/App/Components/User/Setting/Security.js\";\nimport React from \"react\";\nimport { Col, Form, Row } from \"react-bootstrap\";\nimport storage from \"../../../../Storage\";\nimport socket from \"../../../../Socket\";\nimport { decode, encode, wait, sendNotfication } from \"../../../../Helper\";\nimport C from \"../../../../Constant\";\n\nvar Security = /*#__PURE__*/function (_React$Component) {\n  _inherits(Security, _React$Component);\n\n  var _super = _createSuper(Security);\n\n  function Security(props) {\n    var _this;\n\n    _classCallCheck(this, Security);\n\n    _this = _super.call(this, props);\n    _this._isMounted = false;\n\n    _this.back = function () {\n      _this.props.clicked();\n    };\n\n    _this.state = {\n      loading: true,\n      disabled: false,\n      password: '',\n      _password: ''\n    };\n    _this.saveUserSetting = _this.saveUserSetting.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Security, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true;\n      socket.on(C.EDIT_PASSWORD, function (data) {\n        return _this2.updateProfile(decode(data));\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this3 = this;\n\n      wait(500).then(function () {\n        _this3.setState({\n          loading: false\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"saveUserSetting\",\n    value: function saveUserSetting(e) {\n      var _this4 = this;\n\n      if (this._isMounted) {\n        wait(750).then(function () {\n          socket.emit(C.EDIT_PASSWORD, encode({\n            token: storage.getKey('token'),\n            password: _this4.state.password\n          }));\n        });\n      }\n    }\n  }, {\n    key: \"updateProfile\",\n    value: function updateProfile(data) {\n      if (this._isMounted) {\n        this.setState({\n          disabled: false\n        });\n\n        if (data.status) {\n          return sendNotfication('Your Account Password was Updated ', 'success', 'top-center');\n        } else {\n          return sendNotfication(data.error, 'error', 'top-center');\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.loading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        style: {\n          minHeight: 150\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"spinner-border text-info my-2 user-loader\",\n        role: \"status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }\n      }))) : /*#__PURE__*/React.createElement(Form, {\n        onSubmit: function onSubmit(e) {\n          e.preventDefault();\n\n          if (!_this5.state.password) {\n            document.getElementById('password').classList.add('border-danger');\n            return;\n          }\n\n          if (!_this5.state._password) {\n            document.getElementById('_password').classList.add('border-danger');\n            return;\n          }\n\n          if (_this5.state.password !== _this5.state._password) {\n            sendNotfication('Passwords is different!', 'error', 'top-center');\n          }\n\n          if (_this5.state.password === _this5.state._password) {\n            _this5.setState({\n              disabled: true\n            });\n\n            _this5.saveUserSetting(e);\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"mt-1\",\n        htmlFor: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 33\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        autoComplete: 'off',\n        className: \"form-control\",\n        value: this.state.password,\n        required: true,\n        onChange: function onChange(e) {\n          return _this5.setState({\n            password: e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        sm: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"mt-1\",\n        htmlFor: \"_password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 33\n        }\n      }, \"Confirmation Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"password\",\n        id: \"_password\",\n        autoComplete: 'off',\n        className: \"form-control\",\n        value: this.state._password,\n        required: true,\n        onChange: function onChange(e) {\n          return _this5.setState({\n            _password: e.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        sm: 12,\n        className: \"mt-4 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-sm btn-purple no-shadow\",\n        disabled: this.state.disabled,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"mdi mdi-content-save-outline align-middle mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 37\n        }\n      }), \"Save New Password\", this.state.disabled && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: 'ml-2 spinner-border spinner-border-sm',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 43\n        }\n      }))), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-xs bg-cs btn-back\",\n        onClick: this.back,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 33\n        }\n      }, \"Back\")))));\n    }\n  }]);\n\n  return Security;\n}(React.Component);\n\nexport default Security;","map":{"version":3,"names":["React","Col","Form","Row","storage","socket","decode","encode","wait","sendNotfication","C","Security","props","_isMounted","back","clicked","state","loading","disabled","password","_password","saveUserSetting","bind","on","EDIT_PASSWORD","data","updateProfile","then","setState","e","emit","token","getKey","status","error","minHeight","preventDefault","document","getElementById","classList","add","target","value","Component"],"sources":["/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/src/App/Components/User/Setting/Security.js"],"sourcesContent":["import React from \"react\";\r\nimport {Col, Form, Row} from \"react-bootstrap\";\r\nimport storage from \"../../../../Storage\";\r\nimport socket from \"../../../../Socket\";\r\nimport {decode, encode, wait, sendNotfication} from \"../../../../Helper\";\r\nimport C from \"../../../../Constant\";\r\n\r\nclass Security extends React.Component {\r\n    _isMounted = false;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: true,\r\n            disabled: false,\r\n            password: '',\r\n            _password: '',\r\n        };\r\n        this.saveUserSetting = this.saveUserSetting.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this._isMounted = true;\r\n        socket.on(C.EDIT_PASSWORD, data => this.updateProfile(decode(data)));\r\n    }\r\n\r\n    componentWillMount() {\r\n        wait(500).then(() => {\r\n            this.setState({ loading: false });\r\n        })\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n    \r\n    saveUserSetting(e){\r\n        if(this._isMounted)\r\n        {\r\n            wait(750).then(() => {\r\n                socket.emit(C.EDIT_PASSWORD, encode({\r\n                    token: storage.getKey('token'),\r\n                    password: this.state.password\r\n                }));\r\n            })\r\n        }\r\n    }\r\n\r\n    updateProfile(data){\r\n        if(this._isMounted)\r\n        {\r\n            this.setState({ disabled: false });\r\n            if(data.status){\r\n                return sendNotfication('Your Account Password was Updated ', 'success', 'top-center');\r\n            }\r\n            else {\r\n                return sendNotfication(data.error, 'error', 'top-center');\r\n            }\r\n        }\r\n    }\r\n\r\n    back = () => {\r\n        this.props.clicked();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.state.loading ?\r\n                    <>\r\n                        <div className=\"text-center\" style={{ minHeight: 150 }}>\r\n                            <div class=\"spinner-border text-info my-2 user-loader\" role=\"status\"/>\r\n                        </div>\r\n                    </>\r\n                    :\r\n                    <Form\r\n                        onSubmit={e => {\r\n                            e.preventDefault();\r\n\r\n                            if(!this.state.password){\r\n                                document.getElementById('password').classList.add('border-danger');\r\n                                return;\r\n                            }\r\n\r\n                            if(!this.state._password){\r\n                                document.getElementById('_password').classList.add('border-danger');\r\n                                return;\r\n                            }\r\n\r\n                            if(this.state.password !== this.state._password){\r\n                                sendNotfication('Passwords is different!', 'error', 'top-center');\r\n                            }\r\n\r\n                            if(this.state.password === this.state._password){\r\n                                this.setState({ disabled: true });\r\n                                this.saveUserSetting(e);\r\n                            }\r\n                        }}\r\n                    >\r\n                        <Row>\r\n                            <Col sm={6}>\r\n                                <label className=\"mt-1\" htmlFor=\"password\">Password</label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    id=\"password\"\r\n                                    autoComplete={'off'}\r\n                                    className=\"form-control\"\r\n                                    value={this.state.password}\r\n                                    required={true}\r\n                                    onChange={e => this.setState({ password: e.target.value })}\r\n                                />\r\n                            </Col>\r\n                            <Col sm={6}>\r\n                                <label className=\"mt-1\" htmlFor=\"_password\">Confirmation Password</label>\r\n                                <input\r\n                                    type=\"password\"\r\n                                    id=\"_password\"\r\n                                    autoComplete={'off'}\r\n                                    className=\"form-control\"\r\n                                    value={this.state._password}\r\n                                    required={true}\r\n                                    onChange={e => this.setState({ _password: e.target.value })}\r\n                                />\r\n                            </Col>\r\n                            <Col sm={12} className=\"mt-4 text-center\">\r\n                                <button type=\"submit\" className=\"btn btn-sm btn-purple no-shadow\" disabled={this.state.disabled}>\r\n                                    <i className=\"mdi mdi-content-save-outline align-middle mr-1\" />\r\n                                    Save New Password\r\n                                    { this.state.disabled &&\r\n                                        <><div className={'ml-2 spinner-border spinner-border-sm'} /></>\r\n                                    }\r\n                                </button>\r\n                                <button type=\"button\" className=\"btn btn-xs bg-cs btn-back\" onClick={this.back}>\r\n                                    Back\r\n                                </button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                }\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Security;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/src/App/Pages/index.js\";\nimport React from 'react';\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport * as Cookies from \"js-cookie\";\nimport UserHeader from './Parts/Header/Header-User';\nimport GuestHeader from './Parts/Header/Header-Guest';\nimport Sidebar from './Parts/Sidebar';\nimport Footer from './Parts/Footer';\nimport socket from \"../../Socket\";\nimport { Event, decode, encode, wait } from \"../../Helper\";\nimport WalletAlert from \"../../App/Components/User/Wallet/Alert\";\nimport C from \"../../Constant\";\nimport Login from \"./Auth/Login\";\nimport storage from \"../../Storage\";\n\nvar Index = /*#__PURE__*/function (_React$Component) {\n  _inherits(Index, _React$Component);\n\n  var _super = _createSuper(Index);\n\n  function Index(props) {\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    _this = _super.call(this, props);\n\n    _this.activeAuth = function (status) {\n      _this.setState({\n        auth: status\n      });\n    };\n\n    _this.loginUser = function (data) {\n      wait(500).then(function () {\n        if (data.status === true) {\n          _this.setState({\n            header: /*#__PURE__*/React.createElement(UserHeader, {\n              t: _this.props.t,\n              location: _this.props.location,\n              __self: _assertThisInitialized(_this),\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 41\n              }\n            })\n          });\n\n          Cookies.set(\"uid\", data.id, {\n            expires: 14\n          });\n          Cookies.set(\"auth\", true, {\n            expires: 14\n          });\n          storage.setKey('name', data.name);\n          storage.setKey('email', data.email);\n          storage.setKey('credit', data.credit);\n          storage.setKey('avatar', data.avatar);\n          storage.setKey('friends', data.friends);\n          storage.setKey('room', data.room);\n        } else {\n          wait(7000).then(function () {\n            localStorage.clear();\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      header: /*#__PURE__*/React.createElement(GuestHeader, {\n        t: _this.props.t,\n        location: _this.props.location,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 21\n        }\n      }),\n      auth: false\n    };\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      socket.on(C.ONLINE, function (status) {\n        return _this2.loginUser(decode(status));\n      });\n      Event.on('showAuthModal', function (status) {\n        return _this2.activeAuth(status);\n      });\n      /**\r\n       * Initialize Authentication\r\n       */\n\n      var sessionCookie = Cookies.get(\"auth\");\n\n      if (storage.getKey('token') !== null && sessionCookie) {\n        socket.emit(C.ONLINE, encode({\n          jwt_token: storage.getKey('jwt_token'),\n          //fake\n          user_token: storage.getKey('user_token'),\n          //fake\n          security_key: storage.getKey('security_key'),\n          //fake\n          secret_user: storage.getKey('secret_user'),\n          //fake\n          secret_realtime: storage.getKey('secret_realtime'),\n          //fake\n          client_system: storage.getKey('client_system'),\n          //fake\n          token_key: storage.getKey('token_key'),\n          //fake\n          secret_token: storage.getKey('secret_token'),\n          //fake\n          token: storage.getKey('token') // REAL\n\n        }));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          header = _this$state.header,\n          auth = _this$state.auth;\n      var content = this.props.content; // Pages / Games Contents\n\n      var wallet; // Show Wallet if User don't Have Cash\n\n      try {\n        wallet = this.props.get_wallet.show;\n      } catch (e) {}\n\n      var t = this.props.t;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, header, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"page-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Sidebar, {\n        t: t,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"page-content\",\n        id: 'page-content',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }\n      }, wallet && /*#__PURE__*/React.createElement(WalletAlert, {\n        t: t,\n        uid: this.props.get_wallet.uid,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 29\n        }\n      }), auth === true && /*#__PURE__*/React.createElement(Login, {\n        t: t,\n        justModal: \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 29\n        }\n      }), content, /*#__PURE__*/React.createElement(Footer, {\n        t: t,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }\n      }))));\n    }\n  }]);\n\n  return Index;\n}(React.Component);\n\nIndex.propTypes = {\n  get_wallet: PropTypes.string\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    get_wallet: state.items.get_wallet\n  };\n};\n\nexport default connect(mapStateToProps, null)(Index);","map":{"version":3,"names":["React","PropTypes","connect","Cookies","UserHeader","GuestHeader","Sidebar","Footer","socket","Event","decode","encode","wait","WalletAlert","C","Login","storage","Index","props","activeAuth","status","setState","auth","loginUser","data","then","header","t","location","set","id","expires","setKey","name","email","credit","avatar","friends","room","localStorage","clear","state","on","ONLINE","sessionCookie","get","getKey","emit","jwt_token","user_token","security_key","secret_user","secret_realtime","client_system","token_key","secret_token","token","content","wallet","get_wallet","show","e","uid","Component","propTypes","string","mapStateToProps","items"],"sources":["/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/src/App/Pages/index.js"],"sourcesContent":["import React from 'react'\r\nimport PropTypes from \"prop-types\";\r\nimport {connect} from \"react-redux\";\r\nimport * as Cookies from \"js-cookie\";\r\nimport UserHeader from './Parts/Header/Header-User';\r\nimport GuestHeader from './Parts/Header/Header-Guest';\r\nimport Sidebar from './Parts/Sidebar';\r\nimport Footer from './Parts/Footer';\r\nimport socket from \"../../Socket\";\r\nimport {Event, decode, encode, wait} from \"../../Helper\";\r\nimport WalletAlert from \"../../App/Components/User/Wallet/Alert\";\r\nimport C from \"../../Constant\";\r\nimport Login from \"./Auth/Login\";\r\nimport storage from \"../../Storage\";\r\n\r\nclass Index extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            header: <GuestHeader t={this.props.t} location={this.props.location} />,\r\n            auth: false\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        socket.on(C.ONLINE, (status) => this.loginUser(decode(status)));\r\n        Event.on('showAuthModal', (status) => this.activeAuth(status));\r\n\r\n        /**\r\n         * Initialize Authentication\r\n         */\r\n        const sessionCookie = Cookies.get(\"auth\");\r\n\r\n        if(storage.getKey('token') !== null && sessionCookie)\r\n        {\r\n            socket.emit(C.ONLINE, encode({\r\n                jwt_token: storage.getKey('jwt_token'), //fake\r\n                user_token: storage.getKey('user_token'), //fake\r\n                security_key: storage.getKey('security_key'), //fake\r\n                secret_user: storage.getKey('secret_user'), //fake\r\n                secret_realtime: storage.getKey('secret_realtime'), //fake\r\n                client_system: storage.getKey('client_system'), //fake\r\n                token_key: storage.getKey('token_key'), //fake\r\n                secret_token: storage.getKey('secret_token'), //fake\r\n                token: storage.getKey('token'), // REAL\r\n            }));\r\n        }\r\n    }\r\n\r\n    activeAuth = (status) => {\r\n        this.setState({ auth: status });\r\n    }\r\n\r\n    loginUser = (data) => {\r\n        wait(500).then(() => {\r\n            if(data.status === true)\r\n            {\r\n                this.setState({ header: <UserHeader t={this.props.t} location={this.props.location} /> });\r\n                Cookies.set(\"uid\", data.id, {expires: 14});\r\n                Cookies.set(\"auth\", true, {expires: 14});\r\n                storage.setKey('name', data.name);\r\n                storage.setKey('email', data.email);\r\n                storage.setKey('credit', data.credit);\r\n                storage.setKey('avatar', data.avatar);\r\n                storage.setKey('friends', data.friends);\r\n                storage.setKey('room', data.room);\r\n            }\r\n            else {\r\n                wait(7000).then(() => {\r\n                    localStorage.clear();\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    render(){\r\n        let { header, auth } = this.state;\r\n        let { content } = this.props; // Pages / Games Contents\r\n        let wallet; // Show Wallet if User don't Have Cash\r\n\r\n        try {\r\n            wallet = this.props.get_wallet.show;\r\n        }\r\n        catch (e) {}\r\n\r\n        const { t } = this.props;\r\n        return(\r\n            <>\r\n                {header}\r\n                <div className=\"page-wrapper\">\r\n                    <Sidebar t={t} />\r\n                    <div className=\"page-content\" id={'page-content'}>\r\n                        {wallet &&\r\n                            <WalletAlert t={t} uid={this.props.get_wallet.uid} />\r\n                        }\r\n                        {auth === true &&\r\n                            <Login t={t} justModal=\"true\" />\r\n                        }\r\n                        {content}\r\n                        <Footer t={t} />\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nIndex.propTypes = {\r\n    get_wallet: PropTypes.string\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    get_wallet: state.items.get_wallet\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Index);"],"mappings":"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"},"metadata":{},"sourceType":"module"}
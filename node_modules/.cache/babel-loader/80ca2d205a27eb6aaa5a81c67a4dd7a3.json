{"ast":null,"code":"import _classCallCheck from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/src/App/Components/User/Friend/index.js\";\nimport React, { Component } from \"react\";\nimport ReactTooltip from \"react-tooltip\";\nimport socket from \"../../../../Socket\";\nimport { __, Event, decode, encode, wait, sendNotfication } from \"../../../../Helper\";\nimport storage from \"../../../../Storage\";\nimport C from \"../../../../Constant\";\n\nvar AddToFriend = /*#__PURE__*/function (_Component) {\n  _inherits(AddToFriend, _Component);\n\n  var _super = _createSuper(AddToFriend);\n\n  function AddToFriend(props) {\n    var _this;\n\n    _classCallCheck(this, AddToFriend);\n\n    _this = _super.call(this, props);\n    _this._isMounted = false;\n    _this.state = {\n      friends: storage.getKey('friends') !== null ? storage.getKey('friends') : null,\n      token: storage.getKey('token'),\n      button: \"Add\",\n      loading: false\n    };\n    return _this;\n  }\n\n  _createClass(AddToFriend, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true;\n      this.setUpFriends();\n      socket.on(C.ADD_FRIEND, function (data) {\n        return _this2.updateFriends(decode(data));\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"setUpFriends\",\n    value: function setUpFriends() {\n      var _this3 = this;\n\n      if (this._isMounted) {\n        wait(500).then(function () {\n          if (_this3.state.friends !== null) {\n            var friends = __.split(_this3.state.friends, ',');\n\n            if (friends.includes(_this3.props.name)) {\n              _this3.setState({\n                button: \"Remove\"\n              });\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"updateFriends\",\n    value: function updateFriends(response) {\n      var _this4 = this;\n\n      if (this._isMounted) {\n        wait(350).then(function () {\n          if (response.status) _this4.setState({\n            button: \"Remove\"\n          });else _this4.setState({\n            button: \"Add\"\n          });\n          storage.setKey('friends', response.data);\n\n          _this4.setState({\n            friends: response.data\n          });\n\n          _this4.setState({\n            loading: false\n          });\n\n          sendNotfication('Friend list updated', 'success', 'top-center');\n\n          _this4.setUpFriends(); //Update Private Message Users\n\n\n          Event.emit('pm_update');\n        });\n      }\n    }\n  }, {\n    key: \"setFriend\",\n    value: function setFriend(name) {\n      if (this._isMounted) {\n        if (name === null) return;\n\n        if (this.state.token === null) {\n          return sendNotfication('Please Login to Use this Option', 'info', 'top-center');\n        }\n\n        this.setState({\n          loading: true\n        });\n        socket.emit(C.ADD_FRIEND, encode({\n          token: this.state.token,\n          name: name\n        }));\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      if (storage.getKey('name') === this.props.name) return null;\n      if (this.props.name === null || !this.props.name) return null;\n      if (this.props.name === 'SystemBot') return null;\n      var _this$props = this.props,\n          pv = _this$props.pv,\n          onModal = _this$props.onModal,\n          onChat = _this$props.onChat;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ReactTooltip, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }), onModal === true ? /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-cs-6 btn-xs shadow-none text-white rounded font-12 px-3 text-uppercase\",\n        onClick: function onClick() {\n          return _this5.setFriend(_this5.props.name);\n        },\n        disabled: this.state.loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 24\n        }\n      }, this.state.loading ? /*#__PURE__*/React.createElement(\"div\", {\n        class: \"spinner-grow spinner-grow-sm align-middle mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 33\n        }\n      }) : /*#__PURE__*/React.createElement(\"i\", {\n        className: \"mdi mdi-account-plus font-17 align-middle mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 33\n        }\n      }), this.state.button) : /*#__PURE__*/React.createElement(React.Fragment, null, onChat === true ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: 'list-inline-item ml-2',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"cpt\",\n        \"data-tip\": this.state.button,\n        onClick: function onClick() {\n          return _this5.setFriend(_this5.props.name);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"mdi mdi-account-plus font-18 align-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 41\n        }\n      })))) : /*#__PURE__*/React.createElement(React.Fragment, null, pv !== true ? /*#__PURE__*/React.createElement(\"div\", {\n        className: 'list-inline-item ml-2',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-cs btn-xs shadow-none\",\n        onClick: function onClick() {\n          return _this5.setFriend(_this5.props.name);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"mdi mdi-account-plus font-14\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 45\n        }\n      }), \" \", this.state.button)) : /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-soft-danger btn-xs m-1\",\n        \"data-tip\": this.state.button,\n        onClick: function onClick() {\n          return _this5.setFriend(_this5.props.name);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"mdi mdi-account-alert font-20\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 41\n        }\n      })))));\n    }\n  }]);\n\n  return AddToFriend;\n}(Component);\n\nexport default AddToFriend;","map":{"version":3,"names":["React","Component","ReactTooltip","socket","__","Event","decode","encode","wait","sendNotfication","storage","C","AddToFriend","props","_isMounted","state","friends","getKey","token","button","loading","setUpFriends","on","ADD_FRIEND","data","updateFriends","then","split","includes","name","setState","response","status","setKey","emit","pv","onModal","onChat","setFriend"],"sources":["/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/src/App/Components/User/Friend/index.js"],"sourcesContent":["import React, {Component} from \"react\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport socket from \"../../../../Socket\";\r\nimport {__, Event, decode, encode, wait, sendNotfication} from \"../../../../Helper\";\r\nimport storage from \"../../../../Storage\";\r\nimport C from \"../../../../Constant\";\r\n\r\nclass AddToFriend extends Component{\r\n    _isMounted = false;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            friends: storage.getKey('friends') !== null ? storage.getKey('friends') : null,\r\n            token: storage.getKey('token'),\r\n            button: \"Add\",\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n        this.setUpFriends();\r\n        socket.on(C.ADD_FRIEND, data => this.updateFriends(decode(data)));\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this._isMounted = false;\r\n    }\r\n    \r\n    setUpFriends(){\r\n        if(this._isMounted)\r\n        {\r\n            wait(500).then(() => {\r\n                if(this.state.friends !== null) {\r\n                    const friends = __.split(this.state.friends, ',');\r\n                    if(friends.includes(this.props.name)){\r\n                        this.setState({ button: \"Remove\" })\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    updateFriends(response){\r\n        if(this._isMounted)\r\n        {\r\n            wait(350).then(() => {\r\n                if(response.status)\r\n                    this.setState({ button: \"Remove\" });\r\n                else\r\n                    this.setState({ button: \"Add\" });\r\n\r\n                storage.setKey('friends', response.data);\r\n\r\n                this.setState({ friends: response.data });\r\n\r\n                this.setState({ loading: false });\r\n                sendNotfication('Friend list updated', 'success', 'top-center');\r\n\r\n                this.setUpFriends();\r\n\r\n                //Update Private Message Users\r\n                Event.emit('pm_update');\r\n            });\r\n        }\r\n    }\r\n\r\n    setFriend(name){\r\n        if(this._isMounted)\r\n        {\r\n            if(name === null) return;\r\n\r\n            if(this.state.token === null){\r\n                return sendNotfication('Please Login to Use this Option', 'info', 'top-center');\r\n            }\r\n\r\n            this.setState({ loading: true });\r\n\r\n            socket.emit(C.ADD_FRIEND, encode({ token: this.state.token, name: name }));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(storage.getKey('name') === this.props.name) return null;\r\n        if(this.props.name === null || !this.props.name) return null;\r\n        if(this.props.name === 'SystemBot') return null;\r\n\r\n        let { pv, onModal, onChat } = this.props;\r\n\r\n        return(\r\n            <>\r\n                <ReactTooltip />\r\n                {\r\n                    onModal === true ?\r\n                       <button className=\"btn btn-cs-6 btn-xs shadow-none text-white rounded font-12 px-3 text-uppercase\"\r\n                            onClick={() => this.setFriend(this.props.name)}\r\n                            disabled={this.state.loading}>\r\n                          {\r\n                            this.state.loading ?\r\n                                <div class=\"spinner-grow spinner-grow-sm align-middle mr-1\" /> \r\n                                :\r\n                                <i className=\"mdi mdi-account-plus font-17 align-middle mr-1\" />  \r\n                          }\r\n                          {this.state.button}\r\n                      </button>\r\n                    :\r\n                    <>\r\n                        { onChat === true ?\r\n                            <>\r\n                                <div className={'list-inline-item ml-2'}>\r\n                                    <span className=\"cpt\" data-tip={this.state.button} onClick={() => this.setFriend(this.props.name)}>\r\n                                        <i className=\"mdi mdi-account-plus font-18 align-middle\"/>\r\n                                    </span>\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                { pv !== true ?\r\n                                    <div className={'list-inline-item ml-2'}>\r\n                                        <button className=\"btn btn-cs btn-xs shadow-none\" onClick={() => this.setFriend(this.props.name)}>\r\n                                            <i className=\"mdi mdi-account-plus font-14\" /> {this.state.button}\r\n                                        </button>\r\n                                    </div>\r\n                                    :\r\n                                    <button className=\"btn btn-soft-danger btn-xs m-1\" data-tip={this.state.button} onClick={() => this.setFriend(this.props.name)}>\r\n                                        <i className=\"mdi mdi-account-alert font-20\"/>\r\n                                    </button>\r\n                                }\r\n                            </>\r\n                        }\r\n                    </>\r\n                }\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AddToFriend;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/src/App/Pages/Parts/Chat/Submit.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport socket from \"../../../../Socket\";\nimport storage from \"../../../../Storage\";\nimport { encode, __, Event } from \"../../../../Helper\";\nimport C from \"../../../../Constant\";\n\nvar Submit = /*#__PURE__*/function (_React$Component) {\n  _inherits(Submit, _React$Component);\n\n  var _super = _createSuper(Submit);\n\n  function Submit(props) {\n    var _this;\n\n    _classCallCheck(this, Submit);\n\n    _this = _super.call(this, props);\n\n    _this.handleChange = function (e) {\n      var target = e.target;\n      var value = target.value;\n      var name = target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.submit = function (e) {\n      e.preventDefault();\n      if (_this.state.message.trim() === '') return;\n      var c = _this.state.country;\n      socket.emit(C.ADD_CHAT, {\n        token: _this.state.token,\n        message: _this.state.message,\n        country: c\n      });\n\n      _this.setState({\n        message: ''\n      });\n\n      Event.emit('scrolldone');\n    };\n\n    _this.handleSubmit = function (e) {\n      var char = e.which || e.keyCode;\n\n      if (char === 13) {\n        _this.submit(e);\n      }\n    };\n\n    _this.state = {\n      message: '',\n      token: storage.getKey('token'),\n      country: storage.getKey('country') ? storage.getKey('country') : \"GLOBAL\"\n    };\n    return _this;\n  }\n\n  _createClass(Submit, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      Event.on('call_user', function (data) {\n        _this2.setState({\n          message: data\n        });\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps, nextContext) {\n      if (nextProps.country) {\n        this.setState({\n          country: nextProps.country\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var t = this.props.t;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"chat-input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onKeyPress: function onKeyPress(e) {\n          return _this3.handleSubmit(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }\n      }, this.state.token !== null ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"textarea\", {\n        style: {\n          background: '#2f3138',\n          color: '#F8F8F8',\n          fontSize: 12\n        },\n        onChange: this.handleChange,\n        autoComplete: 'off',\n        name: 'message',\n        className: \"form-control\",\n        placeholder: t('message'),\n        value: this.state.message,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 41\n        }\n      })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"textarea\", {\n        style: {\n          background: '#2f3138',\n          color: '#F8F8F8',\n          fontSize: 12\n        },\n        disabled: true,\n        autoComplete: 'off',\n        className: \"form-control\",\n        placeholder: t('message'),\n        value: t('please_login_to_use_chat'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 41\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"input-group-append\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-send-chat\",\n        type: \"submit\",\n        onClick: function onClick(e) {\n          return _this3.submit(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"mdi mdi-send align-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 41\n        }\n      }))))))));\n    }\n  }]);\n\n  return Submit;\n}(React.Component);\n\nSubmit.propTypes = {\n  name: PropTypes.string,\n  country: PropTypes.string\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    name: state.items.name,\n    country: state.items.country\n  };\n};\n\nexport default connect(mapStateToProps, {})(Submit);","map":{"version":3,"names":["React","PropTypes","connect","socket","storage","encode","__","Event","C","Submit","props","handleChange","e","target","value","name","setState","submit","preventDefault","state","message","trim","c","country","emit","ADD_CHAT","token","handleSubmit","char","which","keyCode","getKey","on","data","nextProps","nextContext","t","background","color","fontSize","Component","propTypes","string","mapStateToProps","items"],"sources":["/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/src/App/Pages/Parts/Chat/Submit.js"],"sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport {connect} from \"react-redux\";\r\nimport socket from \"../../../../Socket\";\r\nimport storage from \"../../../../Storage\";\r\nimport { encode, __, Event} from \"../../../../Helper\";\r\nimport C from \"../../../../Constant\";\r\n\r\nclass Submit extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            message: '',\r\n            token: storage.getKey('token'),\r\n            country: storage.getKey('country') ? storage.getKey('country'): \"GLOBAL\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Event.on('call_user', data => {\r\n            this.setState({ message: data })\r\n        });\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps, nextContext) {\r\n        if(nextProps.country){\r\n            this.setState({ country: nextProps.country })\r\n        }\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        let target = e.target;\r\n        let value = target.value;\r\n        let name = target.name;\r\n        this.setState({ [name]: value });\r\n    };\r\n\r\n    submit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(this.state.message.trim() === '')\r\n            return;\r\n\r\n        var c = this.state.country;\r\n        \r\n        socket.emit(C.ADD_CHAT, {\r\n            token: this.state.token,\r\n            message: this.state.message,\r\n            country: c\r\n        });\r\n\r\n        this.setState({ message: '' });\r\n        Event.emit('scrolldone');\r\n    };\r\n\r\n    handleSubmit = (e) => {\r\n        let char = e.which || e.keyCode;\r\n        if(char === 13){\r\n            this.submit(e);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { t } = this.props;\r\n        return (\r\n            <>\r\n                <div className=\"chat-input\">\r\n                    <form onKeyPress={ e =>  this.handleSubmit(e)}>\r\n                        <div className=\"form-group mb-0\">\r\n                            <div className=\"input-group\">\r\n                                \r\n                                { (this.state.token !== null) ?\r\n                                    <>\r\n                                        <textarea style={{background:'#2f3138', color: '#F8F8F8', fontSize: 12 }}\r\n                                         onChange={this.handleChange} autoComplete={'off'} name={'message'} \r\n                                        className=\"form-control\" placeholder={t('message')} value={this.state.message} />\r\n                                    </>\r\n                                    :\r\n                                    <>\r\n                                        <textarea style={{background:'#2f3138', color: '#F8F8F8', fontSize: 12 }}\r\n                                        disabled={true} autoComplete={'off'} className=\"form-control\" placeholder={t('message')} value={t('please_login_to_use_chat')} />\r\n                                    </>\r\n                                }\r\n                                {/*\r\n                                    <Gif />\r\n                                */}\r\n                                <span className=\"input-group-append\">\r\n                                    <button className=\"btn btn-send-chat\" type=\"submit\" onClick={e => this.submit(e)}>\r\n                                        <i className={\"mdi mdi-send align-middle\"} />\r\n                                    </button>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nSubmit.propTypes = {\r\n    name: PropTypes.string,\r\n    country: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    name: state.items.name,\r\n    country: state.items.country,\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(Submit);"],"mappings":"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"},"metadata":{},"sourceType":"module"}
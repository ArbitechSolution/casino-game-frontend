{"ast":null,"code":"import _toConsumableArray from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/src/App/Pages/Parts/Notification/Notifications.js\";\nimport React, { Component } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport socket from \"../../../../Socket\";\nimport { Event, decode, fixDate, wait } from \"../../../../Helper\";\nimport C from \"../../../../Constant\";\n\nvar Notification = /*#__PURE__*/function (_Component) {\n  _inherits(Notification, _Component);\n\n  var _super = _createSuper(Notification);\n\n  function Notification(props) {\n    var _this;\n\n    _classCallCheck(this, Notification);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      loading: true,\n      notifications: []\n    };\n    return _this;\n  }\n\n  _createClass(Notification, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      socket.emit(C.NOTIFICATION);\n      socket.on(C.NOTIFICATION, function (data) {\n        return _this2.getNotification(decode(data));\n      });\n    }\n  }, {\n    key: \"getNotification\",\n    value: function getNotification(data) {\n      var _this3 = this;\n\n      wait(1000).then(function () {\n        _this3.setState({\n          loading: false\n        });\n      });\n      data.forEach(function (news, i) {\n        _this3.setState(function (state) {\n          return {\n            notifications: [/*#__PURE__*/React.createElement(OpenModal, {\n              t: _this3.props.t,\n              key: i,\n              title: news.title,\n              content: news.content,\n              date: news.date,\n              __self: _this3,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 27,\n                columnNumber: 55\n              }\n            })].concat(_toConsumableArray(state.notifications))\n          };\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.loading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"b\", {\n        className: \"mt-1 d-block text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"spinner-grow text-pink\",\n        role: \"status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 25\n        }\n      }))) : this.state.notifications);\n    }\n  }]);\n\n  return Notification;\n}(Component);\n\nvar OpenModal = /*#__PURE__*/function (_React$Component) {\n  _inherits(OpenModal, _React$Component);\n\n  var _super2 = _createSuper(OpenModal);\n\n  function OpenModal() {\n    var _this4;\n\n    _classCallCheck(this, OpenModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this4 = _super2.call.apply(_super2, [this].concat(args));\n\n    _this4.send = function (data) {\n      Event.emit('show_notify', _this4.props);\n    };\n\n    return _this4;\n  }\n\n  _createClass(OpenModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          title = _this$props.title,\n          date = _this$props.date;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.send,\n        className: \"dropdown-item notify-item mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"notify-icon bg-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"mdi mdi-dice-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 61\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"notify-details\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      }, title, /*#__PURE__*/React.createElement(\"small\", {\n        className: \"text-muted\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 58\n        }\n      }, fixDate(date)))));\n    }\n  }]);\n\n  return OpenModal;\n}(React.Component);\n\nexport default Notification;","map":{"version":3,"names":["React","Component","Modal","socket","Event","decode","fixDate","wait","C","Notification","props","state","loading","notifications","emit","NOTIFICATION","on","data","getNotification","then","setState","forEach","news","i","t","title","content","date","OpenModal","send"],"sources":["/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/Frontend/src/App/Pages/Parts/Notification/Notifications.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport {Modal} from \"react-bootstrap\";\r\nimport socket from \"../../../../Socket\";\r\nimport {Event, decode, fixDate, wait} from \"../../../../Helper\";\r\nimport C from \"../../../../Constant\";\r\n\r\nclass Notification extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            loading: true,\r\n            notifications: []\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        socket.emit(C.NOTIFICATION);\r\n        socket.on(C.NOTIFICATION, data => this.getNotification(decode(data)));\r\n    }\r\n\r\n    getNotification(data){\r\n        wait(1000).then(() => {\r\n            this.setState({ loading: false});\r\n        })\r\n\r\n        data.forEach((news, i) => {\r\n            this.setState(state => ({ notifications: [<OpenModal t={this.props.t} key={i} title={news.title} content={news.content} date={news.date}/>, ...state.notifications] }));\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <>\r\n                { this.state.loading ?\r\n                <>\r\n                    <b className={\"mt-1 d-block text-center\"}>\r\n                        <div className=\"spinner-grow text-pink\" role=\"status\" />\r\n                    </b>\r\n                </>\r\n                : this.state.notifications\r\n                }\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nclass OpenModal extends React.Component {\r\n    send = (data) => {\r\n        Event.emit('show_notify', this.props)\r\n    }\r\n    render() {\r\n        let { title, date } = this.props;\r\n        return(\r\n            <>\r\n                <button onClick={this.send} className=\"dropdown-item notify-item mb-2\">\r\n                    <div className=\"notify-icon bg-success\"><i className=\"mdi mdi-dice-6\"/></div>\r\n                    <p className=\"notify-details\">{title}<small className=\"text-muted\">{fixDate(date)}</small></p>\r\n                </button>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Notification;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
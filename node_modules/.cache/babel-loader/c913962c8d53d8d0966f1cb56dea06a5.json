{"ast":null,"code":"import _defineProperty from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/src/App/Components/User/Wallet/Withdrawl.js\";\nimport React, { Component } from \"react\";\nimport ReactTooltip from \"react-tooltip\";\nimport { Button, Row, Col, Dropdown } from \"react-bootstrap\";\nimport socket from \"../../../../Socket\";\nimport { __, decode, encode, isValidNumber, forceSatoshiFormat, wait, sendNotfication } from \"../../../../Helper\";\nimport storage from \"../../../../Storage\";\nimport coins from \"../../../coins\";\nimport WithdrawlArchive from \"./WithdrawlArchive\";\nimport C from \"../../../../Constant\"; //_isMounted can prevent from double socket response\n\nvar Withdrawl = /*#__PURE__*/function (_Component) {\n  _inherits(Withdrawl, _Component);\n\n  var _super = _createSuper(Withdrawl);\n\n  function Withdrawl(props) {\n    var _this;\n\n    _classCallCheck(this, Withdrawl);\n\n    _this = _super.call(this, props);\n    _this._isMounted = false;\n\n    _this.handleInputChanges = function (event) {\n      var target = event.target;\n      var value = target.type === 'checkbox' ? target.checked : target.value;\n\n      if (target.name === 'coin') {\n        socket.emit(C.CREDIT_COIN, encode({\n          token: _this.state.token,\n          coin: value\n        }));\n      }\n\n      if (target.name === 'amount') {\n        if (!isValidNumber(value)) return false;\n\n        if (value.length > 20) {\n          return false;\n        }\n      }\n\n      if (target.name === 'amount') {\n        var error = false;\n        if (Number(value) > Number(_this.maxUserCredit())) error = true;\n\n        _this.setState({\n          error: error\n        });\n      }\n\n      _this.setState(_defineProperty({}, target.name, value));\n    };\n\n    _this.showArchive = function (e) {\n      _this.setState({\n        slide: !_this.state.slide\n      });\n\n      wait(500).then(function () {\n        _this.setState({\n          showArchive: !_this.state.showArchive\n        });\n      });\n    };\n\n    _this.handleInputCoin = function (active, value) {\n      if (active) {\n        socket.emit(C.CREDIT_COIN, encode({\n          token: _this.state.token,\n          coin: value\n        }));\n      } else {\n        _this.setState({\n          amount: forceSatoshiFormat(0)\n        });\n      }\n\n      _this.setState({\n        coin: value,\n        error: false,\n        error2: false\n      });\n    };\n\n    _this.state = {\n      token: storage.getKey('token'),\n      credit: storage.getKey('credit'),\n      showArchive: false,\n      slide: false,\n      final: false,\n      pass: null,\n      wallet: '',\n      amount: 0,\n      im: true,\n      error: false,\n      error2: false,\n      loading: false,\n      loader: true,\n      list: [],\n      coin: 'btc',\n      fee_withdrawal: 0\n    };\n    _this.setMaxBits = _this.setMaxBits.bind(_assertThisInitialized(_this));\n    _this.submitForm = _this.submitForm.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Withdrawl, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true;\n      socket.emit(C.CREDIT_COIN, encode({\n        token: this.state.token,\n        coin: this.state.coin\n      }));\n      socket.on(C.CREDIT_COIN, function (data) {\n        return _this2.setCreditCoin(decode(data));\n      });\n      socket.on(C.SUBMIT_NEW_WITHDRAWL, function (data) {\n        return _this2.addWithdrawal(decode(data));\n      });\n      wait(500).then(function () {\n        _this2.setState({\n          loader: false\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"addWithdrawal\",\n    value: function addWithdrawal(data) {\n      var _this3 = this;\n\n      if (this._isMounted) {\n        wait(1000).then(function () {\n          if (!data) {\n            sendNotfication('Something is wrong !', 'info', 'top-center');\n          }\n\n          var message = __.toString(data.status);\n\n          sendNotfication(message, 'info', 'top-center');\n          socket.emit(C.CREDIT, encode({\n            token: _this3.state.token\n          }));\n\n          _this3.setState({\n            final: false,\n            pass: null,\n            showArchive: false,\n            loading: false\n          });\n        });\n      }\n    }\n  }, {\n    key: \"getUserCredit\",\n    value: function getUserCredit() {\n      return forceSatoshiFormat(this.state.credit);\n    }\n  }, {\n    key: \"setCreditCoin\",\n    value: function setCreditCoin(data) {\n      var credit = data.credit,\n          fee = data.fee;\n      this.setState({\n        credit: credit,\n        amount: credit,\n        fee_withdrawal: fee\n      });\n    }\n  }, {\n    key: \"maxUserCredit\",\n    value: function maxUserCredit() {\n      this.setState({\n        error: false,\n        error2: false\n      });\n      return this.getUserCredit();\n    }\n  }, {\n    key: \"setMaxBits\",\n    value: function setMaxBits() {\n      this.setState({\n        amount: this.maxUserCredit()\n      });\n    }\n  }, {\n    key: \"submitForm\",\n    value: function submitForm(e) {\n      if (this._isMounted) {\n        e.preventDefault();\n        var _this$state = this.state,\n            token = _this$state.token,\n            error = _this$state.error,\n            coin = _this$state.coin,\n            pass = _this$state.pass,\n            wallet = _this$state.wallet,\n            amount = _this$state.amount,\n            credit = _this$state.credit,\n            fee_withdrawal = _this$state.fee_withdrawal;\n        if (!wallet && !amount) return;\n        var finalMoney = forceSatoshiFormat(amount - fee_withdrawal);\n        if (__.toNumber(finalMoney) <= 0) return console.log('-4');\n        var restrecFee = true,\n            minFee; //Check for minimum amount\n\n        coins.forEach(function (item, key) {\n          if (__.lowerCase(item.preffix) === __.lowerCase(coin)) {\n            var min = forceSatoshiFormat(item.min);\n            finalMoney = __.toNumber(finalMoney);\n            min = __.toNumber(min);\n\n            if (finalMoney < min) {\n              minFee = forceSatoshiFormat(min);\n              restrecFee = false;\n            }\n          }\n        });\n\n        if (!restrecFee) {\n          this.setState({\n            error2: true,\n            minFee: minFee\n          });\n          return console.log('-5');\n        }\n\n        ; //Show Second Form [ Final ]\n\n        if (pass === null) {\n          this.setState({\n            final: true\n          });\n          return console.log('-7');\n        }\n\n        this.setState({\n          loading: true\n        });\n        wait(500).then(function () {\n          socket.emit(C.SUBMIT_NEW_WITHDRAWL, encode({\n            token: token,\n            coin: coin,\n            wallet: wallet,\n            amount: amount,\n            immed: fee_withdrawal,\n            password: pass,\n            network: 'BEP20'\n          }));\n        });\n      }\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(event, list) {\n      this.setState({\n        list: list\n      });\n    }\n  }, {\n    key: \"back\",\n    value: function back(e) {\n      e.preventDefault();\n      this.setState({\n        final: false,\n        pass: null\n      });\n    }\n  }, {\n    key: \"enterPass\",\n    value: function enterPass(e) {\n      this.setState({\n        pass: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var UNIT = this.state.coin;\n      var _this$state2 = this.state,\n          loader = _this$state2.loader,\n          final = _this$state2.final,\n          error = _this$state2.error,\n          showArchive = _this$state2.showArchive,\n          amount = _this$state2.amount,\n          credit = _this$state2.credit,\n          error2 = _this$state2.error2,\n          minFee = _this$state2.minFee,\n          fee_withdrawal = _this$state2.fee_withdrawal;\n      var details = withdrawlDetail(amount, fee_withdrawal, UNIT, credit, error);\n      return /*#__PURE__*/React.createElement(React.Fragment, null, showArchive ? /*#__PURE__*/React.createElement(\"div\", {\n        className: this.state.slide === false ? 'animated slideOutLeft' : '',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(WithdrawlArchive, {\n        clicked: this.showArchive,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 29\n        }\n      })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: this.state.slide ? 'animated slideOutLeft mt-1' : ' mt-1',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 29\n        }\n      }, final ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"m-auto text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        className: \"text-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 45\n        }\n      }, \"Total Amount to Withdrawl:\", /*#__PURE__*/React.createElement(\"b\", {\n        className: \"ml-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 49\n        }\n      }, forceSatoshiFormat(parseFloat(this.state.amount)), \" \", __.upperCase(UNIT)))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"m-auto text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        className: \"w-100\",\n        onSubmit: function onSubmit(e) {\n          _this4.submitForm(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 45\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group text-center text-darker\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 53\n        }\n      }, \"Enter Your Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        name: \"password\",\n        type: \"password\",\n        value: this.state.pass,\n        onChange: function onChange(e) {\n          return _this4.enterPass(e);\n        },\n        className: \"form-control bgl2\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 53\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group mt-3 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"btn btn-info no-shadow mr-2\",\n        type: \"button\",\n        onClick: function onClick(e) {\n          return _this4.back(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"mdi mdi-refresh\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 57\n        }\n      }), \" Back\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"btn btn-purple shadow-none\",\n        type: \"submit\",\n        disabled: this.state.loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"mdi mdi-send\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 57\n        }\n      }), \" Send To Wallet\"))))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"m-auto text-center pt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 41\n        }\n      }, loader ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ycenter text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"spinner-border text-info\",\n        role: \"status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 57\n        }\n      })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        onClick: this.showArchive,\n        className: 'text-record ml-0',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 57\n        }\n      }, \"View All Transactions\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"m-auto wallet\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        className: \"w-100\",\n        onSubmit: function onSubmit(e) {\n          _this4.submitForm(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 45\n        }\n      }, loader ? /*#__PURE__*/React.createElement(React.Fragment, null) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"targetWallet\",\n        className: \"text-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 57\n        }\n      }, \"Enter Your Wallet Address\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.wallet,\n        className: \"form-control bgl2\",\n        name: \"wallet\",\n        id: \"targetWallet\",\n        placeholder: \"...\",\n        onChange: this.handleInputChanges,\n        required: true,\n        autoComplete: 'off',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 61\n        }\n      }))), loader ? /*#__PURE__*/React.createElement(React.Fragment, null) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"targetAmount\",\n        className: \"text-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 57\n        }\n      }, \"Enter Amount (\", __.upperCase(UNIT), \")\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.amount,\n        className: \"form-control bgl2\",\n        name: \"amount\",\n        id: \"targetAmount\",\n        placeholder: \"0\",\n        onChange: this.handleInputChanges,\n        required: true,\n        autoComplete: 'off',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 61\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"input-group-append\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"btn bg-greys no-shadow btn-sm btn-clipboard\",\n        onClick: this.setMaxBits,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 65\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"mdi mdi-coins mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 69\n        }\n      }), \" Max\")), error && /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"mt-2 d-inline-block w-100 p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"text-yellow font-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 65\n        }\n      }, \"You don't have enough balance.\")), error2 && /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"mt-2 d-inline-block w-100 p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"text-yellow font-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 65\n        }\n      }, \"Minimum withdrawal amount is \", minFee, \" \", UNIT)))), loader ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group mt-3 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 57\n        }\n      })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group mt-3 text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"btn btn-btn bg-cs shadow-none\",\n        type: \"submit\",\n        disabled: this.state.loading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"far fas fa-dot-circle mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 65\n        }\n      }), \" Send Amount\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group mt-2 mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 45\n        }\n      }, loader ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ycenter text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 53\n        }\n      }) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"withdrawl-detail p-1 bg-soft-dark text-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 53\n        }\n      }, details), loader ? /*#__PURE__*/React.createElement(React.Fragment, null) : /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mt-1 mb-0 p-2 bg-soft-dark text-white\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        className: \"text-yellow\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 57\n        }\n      }, \"NOTICE: \"), \" Your withdrawal will be sent from the hot wallet, do not withdraw to any site that uses the sending address, or returns to sender, because any returns will probably be credited to a different player.\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 125\n        }\n      }), /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 57\n        }\n      }, \"Tip:\"), \" For maximal privacy make sure to use a segwit enabled address and use a fresh address for each receive.\", /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 172\n        }\n      }))))))));\n    }\n  }]);\n\n  return Withdrawl;\n}(Component);\n\nfunction withdrawlDetail(amount, fee, coin, credit, error) {\n  var total = forceSatoshiFormat(amount);\n  coin = __.upperCase(coin);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"p-2 m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 17\n    }\n  }, \"Balance available for withdrawal: \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 55\n    }\n  }, forceSatoshiFormat(credit)), \" \", coin), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 17\n    }\n  }, \"Amount to Withdraw: \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 41\n    }\n  }, forceSatoshiFormat(amount)), \" \", coin), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 17\n    }\n  }, \"Withdrawal Fee: \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 37\n    }\n  }, forceSatoshiFormat(fee)), \" \", coin), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 17\n    }\n  }, \"Total: \", total, \" \", coin)));\n}\n\nexport default Withdrawl;","map":{"version":3,"names":["React","Component","ReactTooltip","Button","Row","Col","Dropdown","socket","__","decode","encode","isValidNumber","forceSatoshiFormat","wait","sendNotfication","storage","coins","WithdrawlArchive","C","Withdrawl","props","_isMounted","handleInputChanges","event","target","value","type","checked","name","emit","CREDIT_COIN","token","state","coin","length","error","Number","maxUserCredit","setState","showArchive","e","slide","then","handleInputCoin","active","amount","error2","getKey","credit","final","pass","wallet","im","loading","loader","list","fee_withdrawal","setMaxBits","bind","submitForm","on","data","setCreditCoin","SUBMIT_NEW_WITHDRAWL","addWithdrawal","message","toString","status","CREDIT","fee","getUserCredit","preventDefault","finalMoney","toNumber","console","log","restrecFee","minFee","forEach","item","key","lowerCase","preffix","min","immed","password","network","UNIT","details","withdrawlDetail","parseFloat","upperCase","enterPass","back","total"],"sources":["/Users/imac/Downloads/Crash.BTC.Updated.V2.DEV/src/App/Components/User/Wallet/Withdrawl.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {Button, Row, Col, Dropdown} from \"react-bootstrap\";\r\nimport socket from \"../../../../Socket\";\r\nimport {__, decode, encode, isValidNumber, forceSatoshiFormat, wait, sendNotfication} from \"../../../../Helper\";\r\nimport storage from \"../../../../Storage\";\r\nimport coins from \"../../../coins\";\r\nimport WithdrawlArchive from \"./WithdrawlArchive\";\r\nimport C from \"../../../../Constant\";\r\n\r\n//_isMounted can prevent from double socket response\r\n\r\nclass Withdrawl extends Component {\r\n    _isMounted = false;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            token: storage.getKey('token'),\r\n            credit: storage.getKey('credit'),\r\n            showArchive: false,\r\n            slide: false,\r\n            final: false,\r\n            pass: null,\r\n            wallet: '',\r\n            amount: 0,\r\n            im: true,\r\n            error: false,\r\n            error2: false,\r\n            loading: false,\r\n            loader: true,\r\n            list: [],\r\n            coin: 'btc',\r\n            fee_withdrawal: 0\r\n        };\r\n        this.setMaxBits = this.setMaxBits.bind(this);\r\n        this.submitForm = this.submitForm.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this._isMounted = true;\r\n        socket.emit(C.CREDIT_COIN, encode({ token: this.state.token, coin: this.state.coin }));\r\n        socket.on(C.CREDIT_COIN, data => this.setCreditCoin(decode(data)));\r\n        socket.on(C.SUBMIT_NEW_WITHDRAWL, data => this.addWithdrawal(decode(data)));\r\n        wait(500).then(() => {\r\n            this.setState({ loader: false })\r\n        })\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this._isMounted = false;\r\n    }\r\n\r\n    addWithdrawal(data){\r\n        if(this._isMounted){\r\n            wait(1000).then(() => {\r\n                if(!data){\r\n                    sendNotfication('Something is wrong !', 'info', 'top-center');\r\n                }\r\n                let message = __.toString(data.status);\r\n                sendNotfication(message, 'info', 'top-center');\r\n                socket.emit(C.CREDIT, encode({ token: this.state.token }));\r\n                this.setState({ final: false, pass: null, showArchive: false, loading: false });\r\n            })\r\n        }\r\n    }\r\n\r\n    handleInputChanges = (event) => {\r\n        let target = event.target;\r\n        let value = target.type === 'checkbox' ? target.checked : target.value;\r\n\r\n        if(target.name === 'coin'){\r\n            socket.emit(C.CREDIT_COIN, encode({ token: this.state.token, coin: value }));\r\n        }\r\n\r\n        if(target.name === 'amount'){\r\n            if(!isValidNumber(value)) return false;\r\n\r\n            if(value.length > 20){\r\n                return false;\r\n            }\r\n        }\r\n\r\n        if(target.name === 'amount'){\r\n            let error = false;\r\n\r\n            if(Number(value) > Number(this.maxUserCredit()))\r\n                error = true;\r\n\r\n            this.setState({ error: error })\r\n        }\r\n\r\n        this.setState({ [target.name]: value });\r\n    }\r\n\r\n    getUserCredit(){\r\n        return forceSatoshiFormat(this.state.credit);\r\n    }\r\n\r\n    setCreditCoin(data){\r\n        let { credit, fee } = data;\r\n        this.setState({credit: credit, amount: credit, fee_withdrawal: fee });\r\n    }\r\n\r\n    maxUserCredit(){\r\n        this.setState({ error: false, error2: false });\r\n        return this.getUserCredit();\r\n    };\r\n\r\n    setMaxBits(){\r\n        this.setState({ amount: this.maxUserCredit()});\r\n    }\r\n\r\n    submitForm(e){\r\n        if(this._isMounted)\r\n        {\r\n            e.preventDefault();\r\n\r\n            let { token, error, coin, pass, wallet, amount, credit, fee_withdrawal } = this.state;\r\n\r\n            if(!wallet && !amount)\r\n                return;\r\n\r\n            let finalMoney = forceSatoshiFormat(amount - fee_withdrawal);\r\n\r\n            if(__.toNumber(finalMoney) <= 0) return console.log('-4');\r\n\r\n            let restrecFee = true, minFee;\r\n\r\n            //Check for minimum amount\r\n            coins.forEach((item, key) => \r\n            {\r\n               if(__.lowerCase(item.preffix) === __.lowerCase(coin))\r\n               {\r\n                    let min = forceSatoshiFormat(item.min);\r\n                    finalMoney = __.toNumber(finalMoney);\r\n                    min = __.toNumber(min);\r\n                    if(finalMoney < min){\r\n                        minFee = forceSatoshiFormat(min);\r\n                        restrecFee = false;\r\n                    }\r\n                }\r\n            });\r\n\r\n            if(!restrecFee) {\r\n                this.setState({ error2: true, minFee: minFee });\r\n                return console.log('-5');\r\n            };\r\n\r\n            //Show Second Form [ Final ]\r\n            if(pass === null){\r\n                this.setState({ final: true });\r\n                return console.log('-7');\r\n            }\r\n\r\n            this.setState({ loading: true });\r\n\r\n            wait(500).then(() => {\r\n                socket.emit(C.SUBMIT_NEW_WITHDRAWL, encode({\r\n                    token: token,\r\n                    coin: coin,\r\n                    wallet: wallet,\r\n                    amount: amount,\r\n                    immed: fee_withdrawal,\r\n                    password: pass,\r\n                    network: 'BEP20'\r\n                }));\r\n            })\r\n        }\r\n    }\r\n\r\n    onChange(event, list){\r\n        this.setState({list: list});\r\n    }\r\n\r\n    back(e){\r\n        e.preventDefault();\r\n        this.setState({ final: false, pass: null })\r\n    }\r\n\r\n    enterPass(e){\r\n        this.setState({ pass: e.target.value })\r\n    }\r\n\r\n    showArchive = e => {\r\n        this.setState({ slide: !this.state.slide });\r\n        wait(500).then(() => {\r\n            this.setState({ showArchive: !this.state.showArchive });\r\n        })\r\n    };\r\n\r\n    handleInputCoin = (active, value) => {\r\n        if(active){\r\n            socket.emit(C.CREDIT_COIN, encode({ token: this.state.token, coin: value }));\r\n        }\r\n        else {\r\n            this.setState({ amount: forceSatoshiFormat(0) });\r\n        }\r\n        this.setState({ coin: value,  error: false, error2: false })\r\n    };\r\n\r\n    render() {\r\n        let UNIT = this.state.coin;\r\n        let { loader, final, error, showArchive, amount, credit, error2, minFee, fee_withdrawal } = this.state;\r\n        let details = withdrawlDetail(amount, fee_withdrawal, UNIT, credit, error);\r\n        return (\r\n            <>\r\n                {\r\n                    showArchive ?\r\n                        <div className={this.state.slide === false ? 'animated slideOutLeft' : ''}>\r\n                            <WithdrawlArchive clicked={this.showArchive} />\r\n                        </div>\r\n                        :\r\n                        <>\r\n                            <div className={this.state.slide ? 'animated slideOutLeft mt-1' : ' mt-1'}>\r\n                                {final ?\r\n                                    <>\r\n                                        <div className={\"m-auto text-center\"}>\r\n                                            <h5 className={\"text-success\"}>Total Amount to Withdrawl:\r\n                                                <b className=\"ml-2\">{forceSatoshiFormat(parseFloat(this.state.amount))} {__.upperCase(UNIT)}</b>\r\n                                            </h5>\r\n                                        </div>\r\n                                        <div className={\"m-auto text-center\"}>\r\n                                            <form className=\"w-100\" onSubmit={(e) => {this.submitForm(e)}}>\r\n                                                <div className=\"form-group text-center text-darker\">\r\n                                                    <label>Enter Your Password</label>\r\n                                                    <input\r\n                                                        name={\"password\"}\r\n                                                        type=\"password\"\r\n                                                        value={this.state.pass}\r\n                                                        onChange={e => this.enterPass(e) }\r\n                                                        className={\"form-control bgl2\"}\r\n                                                        required={true}\r\n                                                    />\r\n                                                </div>\r\n                                                <div className=\"form-group mt-3 text-center\">\r\n                                                    <Button variant=\"btn btn-info no-shadow mr-2\" type=\"button\" onClick={(e) => this.back(e)}>\r\n                                                        <i className=\"mdi mdi-refresh\" /> Back\r\n                                                    </Button>\r\n                                                    <Button variant=\"btn btn-purple shadow-none\" type=\"submit\" disabled={this.state.loading}>\r\n                                                        <i className=\"mdi mdi-send\" /> Send To Wallet\r\n                                                    </Button>\r\n                                                </div>\r\n                                            </form>\r\n                                        </div>\r\n                                    </>\r\n                                    :\r\n                                    <>\r\n                                        <div className={\"m-auto text-center pt-3\"}>\r\n                                            {loader ?\r\n                                                    <div className=\"ycenter text-center\">\r\n                                                        <div class=\"spinner-border text-info\" role=\"status\" />\r\n                                                    </div>\r\n                                                :\r\n                                                <>\r\n                                                    <p>\r\n                                                        <div onClick={this.showArchive} className={'text-record ml-0'}>View All Transactions</div>\r\n                                                    </p>\r\n                                                </>\r\n                                            }\r\n                                        </div>\r\n                                        <div className={\"m-auto wallet\"}>\r\n                                            <form className=\"w-100\" onSubmit={(e) => {this.submitForm(e)}}>\r\n\r\n                                                {loader ?\r\n                                                    <>\r\n                                                    </>\r\n                                                    :\r\n                                                    <div className=\"form-group mb-3\">\r\n                                                        <label htmlFor=\"targetWallet\" className=\"text-white\">Enter Your Wallet Address</label>\r\n                                                        <div className=\"input-group\">\r\n                                                            <input\r\n                                                                type=\"text\"\r\n                                                                value={this.state.wallet}\r\n                                                                className=\"form-control bgl2\"\r\n                                                                name=\"wallet\"\r\n                                                                id=\"targetWallet\"\r\n                                                                placeholder=\"...\"\r\n                                                                onChange={this.handleInputChanges}\r\n                                                                required={true}\r\n                                                                autoComplete={'off'}\r\n                                                            />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                }\r\n\r\n                                                {loader ?\r\n                                                    <>\r\n                                                    </>\r\n                                                    :\r\n                                                    <>\r\n                                                        <label htmlFor=\"targetAmount\" className=\"text-white\">Enter Amount ({__.upperCase(UNIT)})</label>\r\n                                                        <div className=\"input-group\">\r\n                                                            <input type=\"text\"\r\n                                                                   value={this.state.amount}\r\n                                                                   className=\"form-control bgl2\"\r\n                                                                   name=\"amount\"\r\n                                                                   id=\"targetAmount\"\r\n                                                                   placeholder=\"0\"\r\n                                                                   onChange={this.handleInputChanges}\r\n                                                                   required={true}\r\n                                                                   autoComplete={'off'}\r\n                                                            />\r\n                                                            <div className=\"input-group-append\">\r\n                                                                <Button variant=\"btn bg-greys no-shadow btn-sm btn-clipboard\" onClick={this.setMaxBits}>\r\n                                                                    <i className=\"mdi mdi-coins mr-1\" /> Max\r\n                                                                </Button>\r\n                                                            </div>\r\n                                                            {error &&\r\n                                                            <ul className=\"mt-2 d-inline-block w-100 p-0\">\r\n                                                                <li className=\"text-yellow font-12\">You don't have enough balance.</li>\r\n                                                            </ul>}\r\n                                                            {error2 &&\r\n                                                            <ul className=\"mt-2 d-inline-block w-100 p-0\">\r\n                                                                <li className=\"text-yellow font-12\">Minimum withdrawal amount is {minFee} {UNIT}</li>\r\n                                                            </ul>}\r\n                                                        </div>\r\n                                                    </>\r\n                                                }\r\n\r\n                                                {loader ?\r\n                                                    <>\r\n                                                        <div className=\"form-group mt-3 text-center\">\r\n                                                        </div>\r\n                                                    </>\r\n                                                    :\r\n                                                    <>\r\n                                                        <div className=\"form-group mt-3 text-center\">\r\n                                                            <Button variant=\"btn btn-btn bg-cs shadow-none\" type=\"submit\" disabled={this.state.loading}>\r\n                                                                <i className=\"far fas fa-dot-circle mr-1\" /> Send Amount\r\n                                                            </Button>\r\n                                                        </div>\r\n                                                    </>\r\n                                                }\r\n                                            </form>\r\n                                            <div className=\"form-group mt-2 mb-0\">\r\n                                                {loader ?\r\n                                                    <div className=\"ycenter text-center\">\r\n                                                    </div>\r\n                                                    :\r\n                                                    <div className=\"withdrawl-detail p-1 bg-soft-dark text-white\">\r\n                                                        {details}\r\n                                                    </div>\r\n                                                }\r\n                                                {loader ?\r\n                                                    <>\r\n                                                    </>\r\n                                                    :\r\n                                                    <p className=\"mt-1 mb-0 p-2 bg-soft-dark text-white\">\r\n                                                        <b className=\"text-yellow\">NOTICE: </b> Your withdrawal will be sent from the hot wallet, do not withdraw\r\n                                                        to any site that uses the sending address, or returns to sender,\r\n                                                        because any returns will probably be credited to a different player.<br/>\r\n                                                        <b>Tip:</b> For maximal privacy make sure to use a segwit enabled address and use a fresh address for each receive.<br/>\r\n                                                    </p>\r\n                                                }\r\n                                            </div>\r\n                                        </div>\r\n                                    </>\r\n                                }\r\n                            </div>\r\n                        </>\r\n                }\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction withdrawlDetail(amount, fee, coin, credit, error){\r\n\r\n    let total = forceSatoshiFormat(amount);\r\n\r\n    coin = __.upperCase(coin)\r\n\r\n    return (\r\n        <>\r\n            <ul className={\"p-2 m-0\"}>\r\n                <li>Balance available for withdrawal: <b>{forceSatoshiFormat(credit)}</b> {coin}</li>\r\n                <li>Amount to Withdraw: <b>{forceSatoshiFormat(amount)}</b> {coin}</li>\r\n                <li>Withdrawal Fee: <b>{forceSatoshiFormat(fee)}</b> {coin}</li>\r\n                <li>Total: {total} {coin}</li>\r\n            </ul>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Withdrawl;"],"mappings":"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"},"metadata":{},"sourceType":"module"}